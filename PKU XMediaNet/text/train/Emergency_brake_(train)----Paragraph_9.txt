The Regelung B009 NBÜ Rev 3.1 defines a set of nested statemachines in the chapter “Anlage 1: Phasen einer Zugfahrt“, reflecting a very wide range of usecases, including platforms, tunnels, etc. and is applicable for subways, trams, metros(S-Bahn), as it implements appropriate actions for all usecases occurring in rail transportation. These statemachines represents the state of the art in Germany, it is highly recommended to be implemented or retrofitted to avoid the problems  experienced at the S-Bahn Rhine-Neckar.